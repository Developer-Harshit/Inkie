!function(){var e,t=document.createElement("input");try{if(t.type="range","range"==t.type)return}catch(n){return}if(t.style.background="linear-gradient(red, red)",t.style.backgroundImage&&"MozAppearance"in t.style){var i="MacIntel"==navigator.platform,r={radius:i?9:6,width:i?22:12,height:i?16:20},a="linear-gradient(transparent "+(i?"6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px":"9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px")+", transparent)",o={"min-width":r.width+"px","min-height":r.height+"px","max-height":r.height+"px",padding:"0 0 "+(i?"2px":"1px"),border:0,"border-radius":0,cursor:"default","text-indent":"-999999px"},u={attributes:!0,attributeFilter:["min","max","step","value"]},s=document.createEvent("HTMLEvents");s.initEvent("input",!0,!1);var d=document.createEvent("HTMLEvents");d.initEvent("change",!0,!1),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",c,!0):c(),addEventListener("pageshow",p,!0)}function c(){p(),new MutationObserver(function(e){e.forEach(function(e){e.addedNodes&&Array.forEach(e.addedNodes,function(e){e instanceof Element&&(e.childElementCount?Array.forEach(e.querySelectorAll("input[type=range]"),l):e.mozMatchesSelector("input[type=range]")&&l(e))})})}).observe(document,{childList:!0,subtree:!0})}function p(){Array.forEach(document.querySelectorAll("input[type=range]"),l)}function l(t){"range"!=t.type&&function t(n){var c,p,l,f,$,v,b,m,g,x,y,E=n.value;e||(h(e=document.body.appendChild(document.createElement("hr")),{"-moz-appearance":i?"scale-horizontal":"scalethumb-horizontal",display:"block",visibility:"visible",opacity:1,position:"fixed",top:"-999999px"}),document.mozSetImageElement("__sliderthumb__",e));var _=function(){return""+E},w=function e(t){E=""+t,c=!0,z(),delete n.value,n.value=E,n.__defineGetter__("value",_),n.__defineSetter__("value",e)};function L(e){var t=(parseFloat(getComputedStyle(this).width)-r.width)/y;t&&(v+=(e.clientX-b)/t,b=e.clientX,l=!0,this.value=v)}function A(){this.removeEventListener("mousemove",L,!0),this.removeEventListener("mouseup",A,!0),n.dispatchEvent(s),n.dispatchEvent(d)}function k(){f||(this.style.boxShadow=i?"inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)":"0 0 0 2px #fb0")}function S(e){return!isNaN(e)&&+e==parseFloat(e)}function C(){m=S(n.min)?+n.min:0,(g=S(n.max)?+n.max:100)<m&&(g=m>100?m:100),x=S(n.step)&&n.step>0?+n.step:1,y=g-m,z(!0)}function z(e){c||p||(E=n.getAttribute("value")),S(E)||(E=(m+g)/2),(E=Math.round((E-m)/x)*x+m)<m?E=m:E>g&&(E=m+~~(y/x)*x);var t,i=l;if(l=!1,i&&E!=$&&n.dispatchEvent(s),e||E!=$){$=E,h(n,{background:"-moz-element(#__sliderthumb__) "+(y?(E-m)/y*100:0)+"% no-repeat, "+a})}}n.__defineGetter__("value",_),n.__defineSetter__("value",w),Object.defineProperty(n,"type",{get:function(){return"range"}}),["min","max","step"].forEach(function(e){n.hasAttribute(e)&&(p=!0),Object.defineProperty(n,e,{get:function(){return this.hasAttribute(e)?this.getAttribute(e):""},set:function(t){null===t?this.removeAttribute(e):this.setAttribute(e,t)}})}),n.readOnly=!0,h(n,o),C(),new MutationObserver(function(e){e.forEach(function(e){"value"!=e.attributeName?(C(),p=!0):c||(E=n.getAttribute("value"),z())})}).observe(n,u),n.addEventListener("mousedown",function e(t){if(f=!0,setTimeout(function(){f=!1},0),!t.button&&y){var n=(parseFloat(getComputedStyle(this).width)-r.width)/y;if(n){var i=t.clientX-this.getBoundingClientRect().left-r.width/2-(E-m)*n;Math.abs(i)>r.radius&&(l=!0,this.value-=-i/n),v=E,b=t.clientX,this.addEventListener("mousemove",L,!0),this.addEventListener("mouseup",A,!0)}}},!0),n.addEventListener("keydown",function e(t){t.keyCode>36&&t.keyCode<41&&(k.call(this),l=!0,this.value=E+(38==t.keyCode||39==t.keyCode?x:-x))},!0),n.addEventListener("focus",k,!0),n.addEventListener("blur",function e(){this.style.boxShadow=""},!0)}(t)}function h(e,t){for(var n in t)e.style.setProperty(n,t[n],"important")}}();